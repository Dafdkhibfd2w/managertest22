<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>×‘×“×™×§×ª Toast</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <button onclick="showToast('×©××™×¨×” ×”×¦×œ×™×—×”!', {type:'success'})">×˜×•×¡×˜ ×”×¦×œ×—×”</button>
  <button onclick="showToast('××©×”×• ×”×©×ª×‘×©!', {type:'error'})">×˜×•×¡×˜ ×©×’×™××”</button>

  <script>
    (function(){
      const ROOT_ID = 'toast-root';

      function ensureRoot(){
        let root = document.getElementById(ROOT_ID);
        if(!root){
          root = document.createElement('div');
          root.id = ROOT_ID;
          document.body.appendChild(root);
        }
        return root;
      }

      function pickIcon(type){
        switch(type){
          case 'success': return 'âœ…';
          case 'info':    return 'ğŸ’¡';
          case 'warn':    return 'âš ï¸';
          case 'error':   return 'â›”';
          default:        return 'ğŸ””';
        }
      }

      window.showToast = function(msg, opts={}){
        const { type='success', duration=3000, icon=pickIcon(type), onClose } = opts;
        const root = ensureRoot();

        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        toast.innerHTML = `
          <div class="icon">${icon}</div>
          <div class="content"><div class="title">${msg}</div></div>
          <button class="close">âœ•</button>
        `;

        const close = () => {
          toast.remove();
          onClose && onClose();
        };

        toast.querySelector('.close').addEventListener('click', close);
        root.appendChild(toast);
        setTimeout(close, duration);
      };
    })();
  </script>
</body>
</html>
