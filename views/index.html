<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Manager • דשבורד</title>
  <link rel="stylesheet" href="/css/index.css">
</head>
<body>

<div class="loader"><div class="spinner"></div></div>

<header class="navwrap">
  <div class="container nav">
    <div class="brand"><div class="logo"></div><div>Manager Pro</div></div>
    <nav class="nav-links">
      <a class="active" href="/views/index.html">דשבורד</a>
      <a href="/views/manage.html">ניהול משמרות</a>
      <a href="/views/invoices.html">חשבוניות</a>
      <a href="/views/suppliers.html">ספקים</a>
      <a href="/views/tasks.html">משימות</a>
      <a href="/views/admin.html">אדמין</a>
    </nav>
    <div class="nav-cta">
      <button class="btn secondary" onclick="location.href='/views/admin-login.html'">כניסת מנהלים</button>
      <button class="burger" aria-label="תפריט"></button>
    </div>
  </div>
  <div class="drawer"><div class="sheet">
    <a href="/views/index.html">דשבורד</a>
    <a href="/views/manage.html">ניהול משמרות</a>
    <a href="/views/invoices.html">חשבוניות</a>
    <a href="/views/suppliers.html">ספקים</a>
    <a href="/views/tasks.html">משימות</a>
    <a href="/views/admin.html">אדמין</a>
  </div></div>
</header>

<main class="container">
  <div class="pagehead">
    <div class="h1">יצירת / ניהול משמרת</div>
    <div class="subtitle">ממשק טופס פרימיום לניהול המשמרת היומית</div>
  </div>

  <div class="card skeleton" id="formSkeleton" style="height:320px"></div>

  <div class="card" id="shiftForm" style="display:none">
    <h2>פרטי משמרת</h2>
    <div class="grid cols-2">
      <div class="field">
        <label>תאריך</label>
        <input type="date" id="shiftDate">
      </div>
      <div class="field">
        <label>אחמ״ש</label>
        <input type="text" id="managerName" placeholder="שם האחמ״ש">
      </div>
    </div>

    <div class="field">
      <label>צוות</label>
      <input type="text" id="teamMembers" placeholder="רשימת עובדים מופרדת בפסיקים">
    </div>

    <h2>משימות יומיות</h2>
    <div class="toggle-group" id="dailyTasks">
      <div class="toggle">ניקיון</div>
      <div class="toggle">קופה</div>
      <div class="toggle">מלאי</div>
    </div>

    <h2>משימות שבועיות</h2>
    <div class="toggle-group" id="weeklyTasks">
      <div class="toggle">בדיקת ציוד</div>
      <div class="toggle">סידור מחסן</div>
    </div>

    <div style="margin-top:20px; display:flex; gap:10px">
      <button class="btn" id="saveBtn">שמירה</button>
      <button class="btn secondary">ביטול</button>
    </div>
  </div>
</main>

<script src="/js/ui.js"></script>
<script>
// Simulate skeleton removal
window.addEventListener('load', ()=>{
  setTimeout(()=>{
    document.getElementById('formSkeleton').style.display='none';
    document.getElementById('shiftForm').style.display='block';
  }, 800);
});

// Toggle buttons
document.querySelectorAll('.toggle').forEach(btn=>{
  btn.addEventListener('click', ()=>btn.classList.toggle('active'));
});

// Save button spinner state
document.getElementById('saveBtn').addEventListener('click', (e)=>{
  const btn = e.currentTarget;
  const orig = btn.innerHTML;
  btn.innerHTML = '<div class="spinner"></div> שמירה...';
  btn.disabled = true;
  // Here your fetch code will run normally
  setTimeout(()=>{ btn.innerHTML = orig; btn.disabled = false; }, 1500);
});
</script>
</body>
</html>
